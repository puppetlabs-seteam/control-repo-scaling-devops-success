  - name: search_head
    nodes:
      - codynix2.classroom.puppet.com
    vars:
      addon_source_path: puppet:///modules/tools
      ssl:
        mode: letsencrypt
        reg_email: cody+splunk@puppet.com
        reg_fqdn: codynix2.classroom.puppet.com
      addons:
        - name: Splunk_TA_nix
          filename: splunk-add-on-for-unix-and-linux_602.tgz
          inputs:
            monitor:///var/log:
              whitelist: (\.log|log$|messages|secure|auth|mesg$|cron$|acpid$|\.out)
              blacklist: (lastlog|anaconda\.syslog)
              disabled:  false
            script://./bin/uptime.sh:
              interval:   86400
              source:     Unix:Uptime
              sourcetype: Unix:Uptime
              disabled:   false
          additional_settings:
            is_configured:
              filename: app.conf
              section: install
              value: true
            is_visible:
              filename: app.conf
              section: ui
              value: false
        - name: splunk_app_for_nix
          filename: splunk-app-for-unix-and-linux_525.tgz
          additional_settings:
            is_configured:
              filename: app.conf
              section: install
              value: true
        - name: TA-puppet-report-viewer
          filename: puppet-report-viewer_151.tgz
        - name: TA-puppet-tasks-actionable
          filename: puppet-tasks-actionable-alerts-for-splunk_101.tgz
    config:
      transport: ssh
      ssh:
        host-key-check: false
        user: centos
        run-as: root
        private-key: ~/.ssh/student.pem
  - name: forwarders
    nodes:
      - codynix0.classroom.puppet.com
      - codynix1.classroom.puppet.com
    vars:
      addon_source_path: puppet:///modules/tools
      addons:
        - name: Splunk_TA_nix
          filename: splunk-add-on-for-unix-and-linux_602.tgz
          inputs:
            monitor:///var/log:
              whitelist: (\.log|log$|messages|secure|auth|mesg$|cron$|acpid$|\.out)
              blacklist: (lastlog|anaconda\.syslog)
              disabled:  false
            script://./bin/uptime.sh:
              interval:   86400
              source:     Unix:Uptime
              sourcetype: Unix:Uptime
              disabled:   false
          additional_settings:
            is_configured:
              filename: app.conf
              section: install
              value: true
    config:
      transport: ssh
      ssh:
        host-key-check: false
        user: centos
        run-as: root
        private-key: ~/.ssh/student.pem
